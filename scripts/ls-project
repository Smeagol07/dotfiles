#!/bin/bash
#=================================================
# name:   ls-project
# author: Pawel Bogut <pbogut@ukpos.com> <http://pbogut.me>
# date:   09/06/2017
#=================================================

find ~/Projects -maxdepth 5 -mindepth 3 -printf "%T+\t%p\n" -type d |
    grep '\.git$\|CVS$\|\.svn$\|docker-compose.yml$\|composer.lock$' |
    sort -r |
    sed 's,.*\t'"$HOME"'/Projects/,,g' |
    sed 's,\(.*\)/\(\.git\|CVS\|\.svn\|docker-compose.yml\|composer.lock\)$,\1,' |
    awk '!x[$0]++'

